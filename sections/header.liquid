{% comment %}
  TODO:
  - [ ] Website name
  - [ ] Profile icon
{% endcomment %}

<header>
  <a href="/" class="header-logo">{{ shop.name }}</a>
  <button class="dark-mode-toggle" aria-label="Toggle dark mode">
    <span class="icon-sun">â˜€ï¸</span>
    <span class="icon-moon">ğŸŒ™</span>
  </button>
</header>

{% stylesheet %}
  header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem var(--page-margin);
    background-color: var(--color-background);
    color: var(--color-foreground);
  }

  .header-logo {
    font-weight: bold;
    text-decoration: none;
    color: inherit;
  }

  .dark-mode-toggle {
    background: none;
    border: 1px solid var(--color-foreground);
    border-radius: var(--style-border-radius-inputs);
    padding: 0.5rem;
    cursor: pointer;
    font-size: 1.2rem;
  }

  .icon-moon { display: none; }
  body.dark-mode .icon-sun { display: none; }
  body.dark-mode .icon-moon { display: inline; }
{% endstylesheet %}

{% javascript %}
  (function() {
    const toggle = document.querySelector('.dark-mode-toggle');
    const body = document.body;

    // Load saved preference
    if (localStorage.getItem('darkMode') === 'true') {
      body.classList.add('dark-mode');
    }

    toggle.addEventListener('click', () => {
      body.classList.toggle('dark-mode');
      localStorage.setItem('darkMode', body.classList.contains('dark-mode'));
    });
  })();
{% endjavascript %}

{% schema %}
{
  "name": "Header",
  "settings": []
}
{% endschema %}
